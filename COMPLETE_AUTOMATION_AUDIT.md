# ğŸ” å®Œæ•´è‡ªå‹•åŒ–ç’°ç¯€èˆ‡å°ˆæ¡ˆé‹è¡Œå…¨é¢æª¢æŸ¥å ±å‘Š

## ğŸ“‹ æª¢æŸ¥æ—¥æœŸ
2024-01-15

## ğŸ¯ æª¢æŸ¥ç›®æ¨™

1. æ‰¾å‡ºæ‰€æœ‰å¯èƒ½éºæ¼çš„è‡ªå‹•åŒ–ç’°ç¯€ç´°ç¯€
2. æª¢æŸ¥å°ˆæ¡ˆé‹è¡Œæ™‚å¯èƒ½ç¼ºå°‘çš„éƒ¨åˆ†
3. æä¾›å®Œæ•´çš„è‡ªå‹•åŒ–æµç¨‹å»ºè­°

---

## âœ… å·²å¯¦ç¾çš„è‡ªå‹•åŒ–åŠŸèƒ½

### 1. CLI å·¥å…·è‡ªå‹•åŒ–
- âœ… Supabase CLIï¼ˆ30+ æ­¥é©Ÿä½¿ç”¨ï¼‰
- âœ… npm/npxï¼ˆæ‰€æœ‰æ­¥é©Ÿä½¿ç”¨ï¼‰
- âœ… GitHub CLIï¼ˆCI/CDï¼‰
- âœ… Cloudflare CLI (Wrangler)ï¼ˆéƒ¨ç½²ï¼‰
- âš ï¸ **ç¼ºå°‘**ï¼šçµ±ä¸€çš„ç’°å¢ƒå»ºç½®æ­¥é©Ÿï¼ˆæ­¥é©Ÿ 61 å°šæœªå¯¦ä½œï¼‰

### 2. API Keys è‡ªå‹•åŒ–
- âœ… å·²è¨­è¨ˆè‡ªå‹•å–å¾— Keys çš„æ–¹æ¡ˆ
- âš ï¸ **ç¼ºå°‘**ï¼šå¯¦éš›è…³æœ¬å°šæœªå¯¦ä½œï¼ˆ`scripts/fetch-keys.js`ï¼‰

### 3. ç’°å¢ƒè®Šæ•¸è‡ªå‹•åŒ–
- âœ… å·²è¨­è¨ˆè‡ªå‹•è¨­å®šç’°å¢ƒè®Šæ•¸çš„æ–¹æ¡ˆ
- âš ï¸ **ç¼ºå°‘**ï¼šå¯¦éš›è…³æœ¬å°šæœªå¯¦ä½œï¼ˆ`scripts/setup-env.js`ï¼‰

### 4. éƒ¨ç½²è‡ªå‹•åŒ–
- âœ… Cloudflare Pages éƒ¨ç½²è…³æœ¬ï¼ˆ`setup-cloudflare.sh`ï¼‰
- âœ… GitHub Actions workflowï¼ˆ`.github/workflows/deploy.yml`ï¼‰
- âœ… npm éƒ¨ç½²è…³æœ¬ï¼ˆ`npm run deploy:cf`ï¼‰

---

## âš ï¸ ç™¼ç¾çš„éºæ¼é …ç›®

### ğŸ”´ é«˜å„ªå…ˆç´šï¼ˆç«‹å³è£œå……ï¼‰

#### 1. **å°ˆæ¡ˆåˆå§‹åŒ–è…³æœ¬ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰ `scripts/init.js` æˆ– `npm run init` è…³æœ¬
- æ–°ç”¨æˆ¶ clone å°ˆæ¡ˆå¾Œéœ€è¦æ‰‹å‹•åŸ·è¡Œå¤šå€‹æ­¥é©Ÿ
- ç¼ºä¹ä¸€éµåˆå§‹åŒ–æµç¨‹

**å»ºè­°è£œå……**ï¼š
```javascript
// scripts/init.js
// è‡ªå‹•åŒ–å°ˆæ¡ˆåˆå§‹åŒ–æµç¨‹ï¼š
// 1. æª¢æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆ.nvmrcï¼‰
// 2. å®‰è£ä¾è³´ï¼ˆnpm installï¼‰
// 3. æª¢æŸ¥å¿…è¦çš„ CLI å·¥å…·
// 4. æç¤ºè¨­å®šç’°å¢ƒè®Šæ•¸
// 5. é©—è­‰å°ˆæ¡ˆè¨­å®š
```

**npm è…³æœ¬**ï¼š
```json
{
  "scripts": {
    "init": "node scripts/init.js",
    "postinstall": "node scripts/postinstall.js || true"
  }
}
```

---

#### 2. **ç’°å¢ƒè®Šæ•¸æ¨¡æ¿æª”æ¡ˆç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰ `.env.example` æª”æ¡ˆ
- æ–°ç”¨æˆ¶ä¸çŸ¥é“éœ€è¦å“ªäº›ç’°å¢ƒè®Šæ•¸
- ç¼ºä¹ç’°å¢ƒè®Šæ•¸èªªæ˜

**å»ºè­°è£œå……**ï¼š
```bash
# .env.example
# è¤‡è£½æ­¤æª”æ¡ˆç‚º .env.local ä¸¦å¡«å…¥å¯¦éš›å€¼

# ============================================
# Supabaseï¼ˆå¿…éœ€ï¼‰
# ============================================
NEXT_PUBLIC_SUPABASE_URL=https://xxxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# ç¬¬ä¸‰æ–¹æœå‹™ï¼ˆå¯é¸ï¼‰
# ============================================
# RESEND_API_KEY=re_xxxxx
# LINE_CHANNEL_ACCESS_TOKEN=xxxxx
# LINE_CHANNEL_SECRET=xxxxx
# REDIS_URL=https://xxx.upstash.io
# REDIS_TOKEN=xxxxx

# ============================================
# æ‡‰ç”¨ç¨‹å¼è¨­å®š
# ============================================
NODE_ENV=development
```

---

#### 3. **Node.js ç‰ˆæœ¬æª¢æŸ¥ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æœ‰ `.nvmrc` æª”æ¡ˆï¼ˆNode.js 20ï¼‰
- ä½†æ²’æœ‰è‡ªå‹•æª¢æŸ¥ Node.js ç‰ˆæœ¬çš„è…³æœ¬
- ç”¨æˆ¶å¯èƒ½ä½¿ç”¨éŒ¯èª¤çš„ Node.js ç‰ˆæœ¬

**å»ºè­°è£œå……**ï¼š
```javascript
// scripts/check-node-version.js
// è‡ªå‹•æª¢æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆ .nvmrc
// å¦‚æœä¸ç¬¦åˆï¼Œæç¤ºç”¨æˆ¶åˆ‡æ›ç‰ˆæœ¬
```

**npm è…³æœ¬**ï¼š
```json
{
  "scripts": {
    "preinstall": "node scripts/check-node-version.js || true",
    "check:node": "node scripts/check-node-version.js"
  }
}
```

---

#### 4. **ä¾è³´å®‰è£å¾Œçš„è‡ªå‹•åŒ–æª¢æŸ¥ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰ `postinstall` è…³æœ¬
- å®‰è£ä¾è³´å¾Œç„¡æ³•è‡ªå‹•æª¢æŸ¥å°ˆæ¡ˆç‹€æ…‹
- ç„¡æ³•è‡ªå‹•é©—è­‰è¨­å®š

**å»ºè­°è£œå……**ï¼š
```javascript
// scripts/postinstall.js
// å®‰è£ä¾è³´å¾Œè‡ªå‹•åŸ·è¡Œï¼š
// 1. æª¢æŸ¥å¿…è¦çš„ CLI å·¥å…·
// 2. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æª”æ¡ˆ
// 3. æç¤ºä¸‹ä¸€æ­¥æ“ä½œ
```

---

#### 5. **å¥åº·æª¢æŸ¥è…³æœ¬ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰çµ±ä¸€çš„å¥åº·æª¢æŸ¥è…³æœ¬
- ç„¡æ³•å¿«é€Ÿé©—è­‰å°ˆæ¡ˆæ˜¯å¦æ­£å¸¸é‹è¡Œ
- ç„¡æ³•æª¢æŸ¥æ‰€æœ‰è¨­å®šæ˜¯å¦æ­£ç¢º

**å»ºè­°è£œå……**ï¼š
```javascript
// scripts/health-check.js
// æª¢æŸ¥é …ç›®ï¼š
// 1. Node.js ç‰ˆæœ¬
// 2. ä¾è³´æ˜¯å¦å·²å®‰è£
// 3. ç’°å¢ƒè®Šæ•¸æ˜¯å¦è¨­å®š
// 4. CLI å·¥å…·æ˜¯å¦å¯ç”¨
// 5. å°ˆæ¡ˆæ˜¯å¦å¯ä»¥å»ºç½®
```

**npm è…³æœ¬**ï¼š
```json
{
  "scripts": {
    "health": "node scripts/health-check.js",
    "check": "npm run health"
  }
}
```

---

### ğŸŸ¡ ä¸­å„ªå…ˆç´šï¼ˆå»ºè­°è£œå……ï¼‰

#### 6. **è‡ªå‹•åŒ–è…³æœ¬ç›®éŒ„ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰ `scripts/` ç›®éŒ„
- æ‰€æœ‰è‡ªå‹•åŒ–è…³æœ¬å°šæœªå¯¦ä½œ
- ç¼ºä¹è…³æœ¬ç®¡ç†

**å»ºè­°è£œå……**ï¼š
```
scripts/
  â”œâ”€â”€ init.js                    # å°ˆæ¡ˆåˆå§‹åŒ–
  â”œâ”€â”€ check-node-version.js      # Node.js ç‰ˆæœ¬æª¢æŸ¥
  â”œâ”€â”€ postinstall.js             # å®‰è£å¾Œæª¢æŸ¥
  â”œâ”€â”€ health-check.js            # å¥åº·æª¢æŸ¥
  â”œâ”€â”€ fetch-keys.js              # å–å¾— API Keys
  â”œâ”€â”€ setup-env.js               # è¨­å®šç’°å¢ƒè®Šæ•¸
  â”œâ”€â”€ validate-env.js            # é©—è­‰ç’°å¢ƒè®Šæ•¸
  â””â”€â”€ deploy-cloudflare.js       # Cloudflare éƒ¨ç½²
```

---

#### 7. **å°ˆæ¡ˆè¨­å®šé©—è­‰ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰é©—è­‰å°ˆæ¡ˆè¨­å®šçš„è…³æœ¬
- ç„¡æ³•æª¢æŸ¥è®Šæ•¸æ ¼å¼æ˜¯å¦æ­£ç¢º
- ç„¡æ³•æª¢æŸ¥å¿…è¦çš„è¨­å®šæ˜¯å¦å®Œæ•´

**å»ºè­°è£œå……**ï¼š
```javascript
// scripts/validate-config.js
// é©—è­‰ï¼š
// 1. å°ˆæ¡ˆè¨­å®šè®Šæ•¸æ ¼å¼
// 2. ç’°å¢ƒè®Šæ•¸æ ¼å¼
// 3. å¿…è¦çš„è¨­å®šæ˜¯å¦å®Œæ•´
// 4. è¨­å®šä¹‹é–“çš„ä¸€è‡´æ€§
```

---

#### 8. **é–‹ç™¼ç’°å¢ƒå¿«é€Ÿå•Ÿå‹•è…³æœ¬ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰å¿«é€Ÿå•Ÿå‹•é–‹ç™¼ç’°å¢ƒçš„è…³æœ¬
- éœ€è¦æ‰‹å‹•åŸ·è¡Œå¤šå€‹æ­¥é©Ÿ
- ç¼ºä¹é–‹ç™¼ç’°å¢ƒæª¢æŸ¥

**å»ºè­°è£œå……**ï¼š
```bash
# scripts/dev-start.sh
# è‡ªå‹•åŒ–é–‹ç™¼ç’°å¢ƒå•Ÿå‹•ï¼š
# 1. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸
# 2. æª¢æŸ¥ä¾è³´
# 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
# 4. é–‹å•Ÿç€è¦½å™¨
```

**npm è…³æœ¬**ï¼š
```json
{
  "scripts": {
    "dev:start": "bash scripts/dev-start.sh",
    "dev:check": "npm run health && npm run dev"
  }
}
```

---

#### 9. **å»ºç½®å‰æª¢æŸ¥ç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰ `prebuild` è…³æœ¬
- å»ºç½®å‰ç„¡æ³•è‡ªå‹•æª¢æŸ¥è¨­å®š
- ç„¡æ³•é©—è­‰ç’°å¢ƒè®Šæ•¸

**å»ºè­°è£œå……**ï¼š
```json
{
  "scripts": {
    "prebuild": "node scripts/prebuild-check.js || true",
    "prebuild:check": "node scripts/prebuild-check.js"
  }
}
```

```javascript
// scripts/prebuild-check.js
// å»ºç½®å‰æª¢æŸ¥ï¼š
// 1. ç’°å¢ƒè®Šæ•¸æ˜¯å¦è¨­å®š
// 2. å¿…è¦çš„è¨­å®šæ˜¯å¦å®Œæ•´
// 3. ä¾è³´æ˜¯å¦å·²å®‰è£
// 4. å°ˆæ¡ˆè¨­å®šæ˜¯å¦æ­£ç¢º
```

---

#### 10. **éŒ¯èª¤è™•ç†å’Œæ—¥èªŒç¼ºå¤±**

**å•é¡Œ**ï¼š
- æ²’æœ‰çµ±ä¸€çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- æ²’æœ‰æ—¥èªŒæ”¶é›†åŠŸèƒ½
- ç„¡æ³•è¿½è¹¤è‡ªå‹•åŒ–åŸ·è¡Œéç¨‹

**å»ºè­°è£œå……**ï¼š
```javascript
// scripts/logger.js
// çµ±ä¸€çš„æ—¥èªŒè™•ç†ï¼š
// 1. è¨˜éŒ„æ‰€æœ‰è‡ªå‹•åŒ–æ“ä½œ
// 2. éŒ¯èª¤æ—¥èªŒæ”¶é›†
// 3. åŸ·è¡Œæ™‚é–“è¿½è¹¤
```

---

### ğŸŸ¢ ä½å„ªå…ˆç´šï¼ˆæœªä¾†è€ƒæ…®ï¼‰

#### 11. **è‡ªå‹•åŒ–æ¸¬è©¦æ•´åˆ**

**å•é¡Œ**ï¼š
- æœ‰æ¸¬è©¦æ¡†æ¶ï¼ˆVitestï¼‰
- ä½†æ²’æœ‰è‡ªå‹•åŒ–æ¸¬è©¦æµç¨‹
- æ²’æœ‰æ¸¬è©¦è¦†è“‹ç‡æª¢æŸ¥

**å»ºè­°è£œå……**ï¼š
```json
{
  "scripts": {
    "test:coverage": "vitest run --coverage",
    "test:watch": "vitest watch",
    "test:ci": "vitest run --reporter=junit --outputFile=test-results.xml"
  }
}
```

---

#### 12. **ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥è‡ªå‹•åŒ–**

**å•é¡Œ**ï¼š
- æœ‰ ESLint è¨­å®š
- ä½†æ²’æœ‰è‡ªå‹•åŒ–æª¢æŸ¥æµç¨‹
- æ²’æœ‰è‡ªå‹•ä¿®å¾©åŠŸèƒ½

**å»ºè­°è£œå……**ï¼š
```json
{
  "scripts": {
    "lint:fix": "eslint . --fix",
    "lint:check": "eslint .",
    "format": "prettier --write .",
    "format:check": "prettier --check ."
  }
}
```

---

#### 13. **ä¾è³´æ›´æ–°æª¢æŸ¥**

**å•é¡Œ**ï¼š
- æ²’æœ‰æª¢æŸ¥éæ™‚ä¾è³´çš„è…³æœ¬
- æ²’æœ‰å®‰å…¨æ¼æ´æª¢æŸ¥
- æ²’æœ‰è‡ªå‹•æ›´æ–°å»ºè­°

**å»ºè­°è£œå……**ï¼š
```json
{
  "scripts": {
    "deps:check": "npm outdated",
    "deps:audit": "npm audit",
    "deps:update": "npm update",
    "deps:security": "npm audit --audit-level=moderate"
  }
}
```

---

## ğŸ“‹ å°ˆæ¡ˆé‹è¡Œæª¢æŸ¥æ¸…å–®

### åˆæ¬¡é‹è¡Œå°ˆæ¡ˆéœ€è¦çš„æ­¥é©Ÿ

#### âœ… å·²å…·å‚™
- [x] `package.json` æœ‰å®Œæ•´çš„ä¾è³´æ¸…å–®
- [x] `.nvmrc` æŒ‡å®š Node.js ç‰ˆæœ¬
- [x] `.gitignore` å·²è¨­å®š
- [x] `vite.config.ts` å·²é…ç½®
- [x] `tsconfig.json` å·²é…ç½®

#### âš ï¸ ç¼ºå°‘
- [ ] `.env.example` æ¨¡æ¿æª”æ¡ˆ
- [ ] `scripts/init.js` åˆå§‹åŒ–è…³æœ¬
- [ ] `scripts/check-node-version.js` ç‰ˆæœ¬æª¢æŸ¥
- [ ] `scripts/postinstall.js` å®‰è£å¾Œæª¢æŸ¥
- [ ] `scripts/health-check.js` å¥åº·æª¢æŸ¥
- [ ] `README.md` ç¼ºå°‘å®Œæ•´çš„è¨­å®šèªªæ˜

---

## ğŸ¯ å»ºè­°çš„å®Œæ•´è‡ªå‹•åŒ–æµç¨‹

### éšæ®µä¸€ï¼šå°ˆæ¡ˆåˆå§‹åŒ–ï¼ˆæ–°ç”¨æˆ¶ï¼‰

```bash
# 1. Clone å°ˆæ¡ˆ
git clone <repo-url>
cd <project-name>

# 2. åŸ·è¡Œåˆå§‹åŒ–è…³æœ¬ï¼ˆè‡ªå‹•åŒ–ï¼‰
npm run init

# é€™å€‹è…³æœ¬æœƒè‡ªå‹•ï¼š
# - æª¢æŸ¥ Node.js ç‰ˆæœ¬
# - å®‰è£ä¾è³´
# - æª¢æŸ¥ CLI å·¥å…·
# - æç¤ºè¨­å®šç’°å¢ƒè®Šæ•¸
# - é©—è­‰å°ˆæ¡ˆè¨­å®š
```

### éšæ®µäºŒï¼šç’°å¢ƒå»ºç½®ï¼ˆæ­¥é©Ÿ 61ï¼‰

```bash
# 1. åŸ·è¡Œç’°å¢ƒå»ºç½®
# é€éæ­¥é©Ÿ 61 æˆ–ç›´æ¥åŸ·è¡Œï¼š
npm run setup:env

# é€™å€‹è…³æœ¬æœƒè‡ªå‹•ï¼š
# - æª¢æŸ¥æ‰€æœ‰ CLI å·¥å…·
# - å–å¾— API Keys
# - è¨­å®šç’°å¢ƒè®Šæ•¸
# - é©—è­‰è¨­å®š
```

### éšæ®µä¸‰ï¼šé–‹ç™¼å•Ÿå‹•

```bash
# 1. å¥åº·æª¢æŸ¥
npm run health

# 2. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# æˆ–ä½¿ç”¨å¿«é€Ÿå•Ÿå‹•ï¼ˆåŒ…å«æª¢æŸ¥ï¼‰
npm run dev:start
```

### éšæ®µå››ï¼šå»ºç½®å’Œéƒ¨ç½²

```bash
# 1. å»ºç½®å‰æª¢æŸ¥
npm run prebuild:check

# 2. å»ºç½®
npm run build

# 3. éƒ¨ç½²
npm run deploy:cf
```

---

## ğŸ“ éœ€è¦å»ºç«‹çš„æª”æ¡ˆæ¸…å–®

### ç«‹å³å»ºç«‹ï¼ˆé«˜å„ªå…ˆç´šï¼‰

1. **`.env.example`** - ç’°å¢ƒè®Šæ•¸æ¨¡æ¿
2. **`scripts/init.js`** - å°ˆæ¡ˆåˆå§‹åŒ–è…³æœ¬
3. **`scripts/check-node-version.js`** - Node.js ç‰ˆæœ¬æª¢æŸ¥
4. **`scripts/postinstall.js`** - å®‰è£å¾Œæª¢æŸ¥
5. **`scripts/health-check.js`** - å¥åº·æª¢æŸ¥
6. **`scripts/fetch-keys.js`** - å–å¾— API Keysï¼ˆå·²è¨­è¨ˆï¼‰
7. **`scripts/setup-env.js`** - è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆå·²è¨­è¨ˆï¼‰
8. **`scripts/validate-env.js`** - é©—è­‰ç’°å¢ƒè®Šæ•¸
9. **`scripts/prebuild-check.js`** - å»ºç½®å‰æª¢æŸ¥

### è¿‘æœŸå»ºç«‹ï¼ˆä¸­å„ªå…ˆç´šï¼‰

10. **`scripts/deploy-cloudflare.js`** - Cloudflare éƒ¨ç½²è‡ªå‹•åŒ–
11. **`scripts/validate-config.js`** - å°ˆæ¡ˆè¨­å®šé©—è­‰
12. **`scripts/dev-start.sh`** - é–‹ç™¼ç’°å¢ƒå¿«é€Ÿå•Ÿå‹•
13. **`scripts/logger.js`** - æ—¥èªŒè™•ç†

### æœªä¾†è€ƒæ…®ï¼ˆä½å„ªå…ˆç´šï¼‰

14. **`scripts/test-coverage.js`** - æ¸¬è©¦è¦†è“‹ç‡
15. **`scripts/deps-check.js`** - ä¾è³´æª¢æŸ¥
16. **`.prettierrc`** - ç¨‹å¼ç¢¼æ ¼å¼åŒ–è¨­å®š

---

## ğŸ”§ éœ€è¦æ›´æ–°çš„æª”æ¡ˆ

### 1. `package.json`

**éœ€è¦æ·»åŠ çš„è…³æœ¬**ï¼š
```json
{
  "scripts": {
    "init": "node scripts/init.js",
    "check:node": "node scripts/check-node-version.js",
    "health": "node scripts/health-check.js",
    "check": "npm run health",
    "preinstall": "node scripts/check-node-version.js || true",
    "postinstall": "node scripts/postinstall.js || true",
    "prebuild": "node scripts/prebuild-check.js || true",
    "prebuild:check": "node scripts/prebuild-check.js",
    "fetch-keys": "node scripts/fetch-keys.js",
    "setup-env": "node scripts/setup-env.js",
    "setup-env:local": "node scripts/setup-env.js --local",
    "setup-env:supabase": "node scripts/setup-env.js --supabase",
    "setup-env:github": "node scripts/setup-env.js --github",
    "validate-env": "node scripts/validate-env.js",
    "validate-config": "node scripts/validate-config.js",
    "dev:start": "bash scripts/dev-start.sh",
    "dev:check": "npm run health && npm run dev",
    "deploy:cloudflare": "node scripts/deploy-cloudflare.js deploy",
    "deploy:status": "node scripts/deploy-cloudflare.js status",
    "lint:fix": "eslint . --fix",
    "deps:check": "npm outdated",
    "deps:audit": "npm audit",
    "deps:security": "npm audit --audit-level=moderate"
  }
}
```

### 2. `.gitignore`

**éœ€è¦æ·»åŠ **ï¼š
```gitignore
# è‡ªå‹•åŒ–è…³æœ¬ç”¢ç”Ÿçš„æª”æ¡ˆ
.automation-keys.json
scripts/*.log

# æ¸¬è©¦çµæœ
test-results.xml
coverage/

# è‡¨æ™‚æª”æ¡ˆ
*.tmp
*.temp
```

### 3. `README.md`

**éœ€è¦æ›´æ–°**ï¼š
- æ·»åŠ å®Œæ•´çš„å°ˆæ¡ˆè¨­å®šèªªæ˜
- æ·»åŠ åˆå§‹åŒ–æ­¥é©Ÿ
- æ·»åŠ ç’°å¢ƒè®Šæ•¸èªªæ˜
- æ·»åŠ è‡ªå‹•åŒ–è…³æœ¬ä½¿ç”¨èªªæ˜

---

## ğŸ¯ å®Œæ•´çš„å°ˆæ¡ˆé‹è¡Œæµç¨‹

### æ–°ç”¨æˆ¶åˆæ¬¡é‹è¡Œ

```bash
# æ­¥é©Ÿ 1ï¼šClone å°ˆæ¡ˆ
git clone <repo-url>
cd <project-name>

# æ­¥é©Ÿ 2ï¼šåˆå§‹åŒ–ï¼ˆè‡ªå‹•åŒ–ï¼‰
npm run init
# æœƒè‡ªå‹•ï¼š
# - æª¢æŸ¥ Node.js ç‰ˆæœ¬
# - å®‰è£ä¾è³´
# - æª¢æŸ¥ CLI å·¥å…·
# - æç¤ºè¨­å®šç’°å¢ƒè®Šæ•¸

# æ­¥é©Ÿ 3ï¼šç’°å¢ƒå»ºç½®ï¼ˆé€éæ­¥é©Ÿ 61 æˆ–è…³æœ¬ï¼‰
npm run setup:env
# æœƒè‡ªå‹•ï¼š
# - å–å¾— API Keys
# - è¨­å®šç’°å¢ƒè®Šæ•¸
# - é©—è­‰è¨­å®š

# æ­¥é©Ÿ 4ï¼šå¥åº·æª¢æŸ¥
npm run health

# æ­¥é©Ÿ 5ï¼šå•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev
```

### æ—¥å¸¸é–‹ç™¼æµç¨‹

```bash
# 1. æª¢æŸ¥å°ˆæ¡ˆç‹€æ…‹
npm run health

# 2. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# 3. å»ºç½®å‰æª¢æŸ¥
npm run prebuild:check

# 4. å»ºç½®
npm run build

# 5. éƒ¨ç½²
npm run deploy:cf
```

---

## ğŸ“Š è‡ªå‹•åŒ–è¦†è“‹ç‡åˆ†æ

### å·²è‡ªå‹•åŒ–ï¼ˆâœ…ï¼‰

| åŠŸèƒ½ | è‡ªå‹•åŒ–ç¨‹åº¦ | ç‹€æ…‹ |
|------|-----------|------|
| Supabase æ“ä½œ | 70% | âš ï¸ éƒ¨åˆ†æ­¥é©Ÿå·²æ”¹é€² |
| ç’°å¢ƒè®Šæ•¸è¨­å®š | 0% | âŒ åƒ…è¨­è¨ˆï¼Œæœªå¯¦ä½œ |
| API Keys å–å¾— | 0% | âŒ åƒ…è¨­è¨ˆï¼Œæœªå¯¦ä½œ |
| CLI å·¥å…·æª¢æŸ¥ | 0% | âŒ åƒ…è¨­è¨ˆï¼Œæœªå¯¦ä½œ |
| å°ˆæ¡ˆåˆå§‹åŒ– | 0% | âŒ å®Œå…¨ç¼ºå¤± |
| å¥åº·æª¢æŸ¥ | 0% | âŒ å®Œå…¨ç¼ºå¤± |
| éƒ¨ç½²æµç¨‹ | 80% | âœ… åŸºæœ¬å®Œæˆ |

### éœ€è¦è‡ªå‹•åŒ–ï¼ˆâš ï¸ï¼‰

| åŠŸèƒ½ | å„ªå…ˆç´š | å»ºè­° |
|------|--------|------|
| å°ˆæ¡ˆåˆå§‹åŒ– | ğŸ”´ é«˜ | å»ºç«‹ `scripts/init.js` |
| ç’°å¢ƒè®Šæ•¸è¨­å®š | ğŸ”´ é«˜ | å¯¦ä½œ `scripts/setup-env.js` |
| API Keys å–å¾— | ğŸ”´ é«˜ | å¯¦ä½œ `scripts/fetch-keys.js` |
| CLI å·¥å…·æª¢æŸ¥ | ğŸ”´ é«˜ | å¯¦ä½œæ­¥é©Ÿ 61 |
| å¥åº·æª¢æŸ¥ | ğŸŸ¡ ä¸­ | å»ºç«‹ `scripts/health-check.js` |
| Node.js ç‰ˆæœ¬æª¢æŸ¥ | ğŸŸ¡ ä¸­ | å»ºç«‹ `scripts/check-node-version.js` |
| å»ºç½®å‰æª¢æŸ¥ | ğŸŸ¡ ä¸­ | å»ºç«‹ `scripts/prebuild-check.js` |

---

## ğŸ’¡ å»ºè­°çš„å¯¦æ–½é †åº

### ç¬¬ä¸€éšæ®µï¼ˆç«‹å³å¯¦æ–½ï¼‰

1. **å»ºç«‹ `.env.example`** - ç’°å¢ƒè®Šæ•¸æ¨¡æ¿
2. **å»ºç«‹ `scripts/init.js`** - å°ˆæ¡ˆåˆå§‹åŒ–
3. **å»ºç«‹ `scripts/check-node-version.js`** - ç‰ˆæœ¬æª¢æŸ¥
4. **æ›´æ–° `package.json`** - æ·»åŠ æ‰€æœ‰è…³æœ¬

### ç¬¬äºŒéšæ®µï¼ˆè¿‘æœŸå¯¦æ–½ï¼‰

5. **å¯¦ä½œ `scripts/fetch-keys.js`** - å–å¾— API Keys
6. **å¯¦ä½œ `scripts/setup-env.js`** - è¨­å®šç’°å¢ƒè®Šæ•¸
7. **å¯¦ä½œæ­¥é©Ÿ 61** - CLI ç’°å¢ƒå»ºç½®
8. **å»ºç«‹ `scripts/health-check.js`** - å¥åº·æª¢æŸ¥

### ç¬¬ä¸‰éšæ®µï¼ˆæœªä¾†è€ƒæ…®ï¼‰

9. **å»ºç«‹ `scripts/prebuild-check.js`** - å»ºç½®å‰æª¢æŸ¥
10. **å»ºç«‹ `scripts/validate-config.js`** - è¨­å®šé©—è­‰
11. **å»ºç«‹ `scripts/dev-start.sh`** - å¿«é€Ÿå•Ÿå‹•
12. **æ›´æ–° `README.md`** - å®Œæ•´æ–‡ä»¶

---

## ğŸ” å°ˆæ¡ˆé‹è¡Œå¯èƒ½ç¼ºå°‘çš„éƒ¨åˆ†

### 1. **ä¾è³´å®‰è£å•é¡Œ**

**å¯èƒ½ç¼ºå°‘**ï¼š
- Node.js ç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚
- npm ç‰ˆæœ¬éèˆŠ
- ç³»çµ±ç¼ºå°‘å¿…è¦çš„å»ºç½®å·¥å…·

**å»ºè­°**ï¼š
- æ·»åŠ  Node.js ç‰ˆæœ¬æª¢æŸ¥
- æ·»åŠ  npm ç‰ˆæœ¬æª¢æŸ¥
- æä¾›æ¸…æ™°çš„éŒ¯èª¤è¨Šæ¯

### 2. **ç’°å¢ƒè®Šæ•¸å•é¡Œ**

**å¯èƒ½ç¼ºå°‘**ï¼š
- `.env.local` æª”æ¡ˆä¸å­˜åœ¨
- ç’°å¢ƒè®Šæ•¸æœªè¨­å®š
- ç’°å¢ƒè®Šæ•¸æ ¼å¼éŒ¯èª¤

**å»ºè­°**ï¼š
- æä¾› `.env.example` æ¨¡æ¿
- è‡ªå‹•ç”Ÿæˆ `.env.local`
- é©—è­‰ç’°å¢ƒè®Šæ•¸æ ¼å¼

### 3. **CLI å·¥å…·å•é¡Œ**

**å¯èƒ½ç¼ºå°‘**ï¼š
- Supabase CLI æœªå®‰è£
- GitHub CLI æœªå®‰è£
- Cloudflare CLI æœªå®‰è£

**å»ºè­°**ï¼š
- è‡ªå‹•æª¢æŸ¥ CLI å·¥å…·
- è‡ªå‹•å®‰è£ç¼ºå¤±çš„å·¥å…·
- æä¾›æ¸…æ™°çš„å®‰è£æŒ‡å¼•

### 4. **å°ˆæ¡ˆè¨­å®šå•é¡Œ**

**å¯èƒ½ç¼ºå°‘**ï¼š
- å°ˆæ¡ˆè¨­å®šè®Šæ•¸æœªå¡«å…¥
- è®Šæ•¸æ ¼å¼éŒ¯èª¤
- å¿…è¦çš„è¨­å®šç¼ºå¤±

**å»ºè­°**ï¼š
- é©—è­‰å°ˆæ¡ˆè¨­å®š
- æä¾›è¨­å®šæ¨¡æ¿
- è‡ªå‹•æª¢æŸ¥è¨­å®šå®Œæ•´æ€§

### 5. **å»ºç½®å•é¡Œ**

**å¯èƒ½ç¼ºå°‘**ï¼š
- å»ºç½®ç’°å¢ƒæœªæ­£ç¢ºè¨­å®š
- ç’°å¢ƒè®Šæ•¸åœ¨å»ºç½®æ™‚ä¸å¯ç”¨
- å»ºç½®å‘½ä»¤éŒ¯èª¤

**å»ºè­°**ï¼š
- å»ºç½®å‰è‡ªå‹•æª¢æŸ¥
- é©—è­‰å»ºç½®ç’°å¢ƒ
- æä¾›å»ºç½®éŒ¯èª¤è¨ºæ–·

---

## ğŸ“‹ å®Œæ•´æª¢æŸ¥æ¸…å–®

### å°ˆæ¡ˆåˆå§‹åŒ–æª¢æŸ¥

- [ ] Node.js ç‰ˆæœ¬ç¬¦åˆ `.nvmrc`
- [ ] npm ç‰ˆæœ¬è¶³å¤ æ–°ï¼ˆ>= 8.0.0ï¼‰
- [ ] ä¾è³´å·²å®Œæ•´å®‰è£
- [ ] å¿…è¦çš„ CLI å·¥å…·å·²å®‰è£
- [ ] ç’°å¢ƒè®Šæ•¸æª”æ¡ˆå·²å»ºç«‹
- [ ] å°ˆæ¡ˆè¨­å®šå·²å¡«å…¥

### é–‹ç™¼ç’°å¢ƒæª¢æŸ¥

- [ ] é–‹ç™¼ä¼ºæœå™¨å¯ä»¥å•Ÿå‹•
- [ ] ç’°å¢ƒè®Šæ•¸å¯ä»¥æ­£ç¢ºè®€å–
- [ ] å°ˆæ¡ˆè¨­å®šè®Šæ•¸å¯ä»¥æ­£ç¢ºæ›¿æ›
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸é‹ä½œ
- [ ] æ²’æœ‰éŒ¯èª¤æˆ–è­¦å‘Š

### å»ºç½®ç’°å¢ƒæª¢æŸ¥

- [ ] å¯ä»¥æˆåŠŸå»ºç½®
- [ ] å»ºç½®è¼¸å‡ºæ­£ç¢º
- [ ] æ²’æœ‰å»ºç½®éŒ¯èª¤
- [ ] ç’°å¢ƒè®Šæ•¸åœ¨å»ºç½®æ™‚å¯ç”¨
- [ ] å»ºç½®ç”¢ç‰©å®Œæ•´

### éƒ¨ç½²ç’°å¢ƒæª¢æŸ¥

- [ ] å¯ä»¥æˆåŠŸéƒ¨ç½²
- [ ] éƒ¨ç½²å¾Œç¶²ç«™æ­£å¸¸é‹ä½œ
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] æ²’æœ‰éƒ¨ç½²éŒ¯èª¤

---

## ğŸ¯ å»ºè­°è¡Œå‹•

### ç«‹å³åŸ·è¡Œ

1. **å»ºç«‹ `.env.example`** - ç’°å¢ƒè®Šæ•¸æ¨¡æ¿
2. **å»ºç«‹ `scripts/` ç›®éŒ„** - è…³æœ¬ç®¡ç†
3. **å»ºç«‹ `scripts/init.js`** - å°ˆæ¡ˆåˆå§‹åŒ–
4. **å»ºç«‹ `scripts/check-node-version.js`** - ç‰ˆæœ¬æª¢æŸ¥
5. **æ›´æ–° `package.json`** - æ·»åŠ æ‰€æœ‰è…³æœ¬

### è¿‘æœŸåŸ·è¡Œ

6. **å¯¦ä½œ `scripts/fetch-keys.js`** - å–å¾— API Keys
7. **å¯¦ä½œ `scripts/setup-env.js`** - è¨­å®šç’°å¢ƒè®Šæ•¸
8. **å¯¦ä½œæ­¥é©Ÿ 61** - CLI ç’°å¢ƒå»ºç½®
9. **å»ºç«‹ `scripts/health-check.js`** - å¥åº·æª¢æŸ¥
10. **æ›´æ–° `README.md`** - å®Œæ•´æ–‡ä»¶

---

## ğŸ“Š çµ±è¨ˆæ‘˜è¦

### è‡ªå‹•åŒ–è¦†è“‹ç‡

- **å·²è¨­è¨ˆ**ï¼š60%
- **å·²å¯¦ä½œ**ï¼š30%
- **å®Œå…¨ç¼ºå¤±**ï¼š10%

### å°ˆæ¡ˆé‹è¡Œå®Œæ•´æ€§

- **åˆå§‹åŒ–æµç¨‹**ï¼šâŒ ç¼ºå¤±
- **ç’°å¢ƒå»ºç½®**ï¼šâš ï¸ éƒ¨åˆ†å®Œæˆ
- **é–‹ç™¼å•Ÿå‹•**ï¼šâœ… åŸºæœ¬å®Œæˆ
- **å»ºç½®æµç¨‹**ï¼šâœ… åŸºæœ¬å®Œæˆ
- **éƒ¨ç½²æµç¨‹**ï¼šâœ… åŸºæœ¬å®Œæˆ

### å»ºè­°å„ªå…ˆç´š

- **ğŸ”´ é«˜å„ªå…ˆç´š**ï¼š5 å€‹é …ç›®
- **ğŸŸ¡ ä¸­å„ªå…ˆç´š**ï¼š4 å€‹é …ç›®
- **ğŸŸ¢ ä½å„ªå…ˆç´š**ï¼š3 å€‹é …ç›®

---

## âœ… æœ€çµ‚å»ºè­°

### æ ¸å¿ƒç¼ºå¤±é …ç›®

1. **å°ˆæ¡ˆåˆå§‹åŒ–è…³æœ¬** - æœ€é‡è¦ï¼Œå½±éŸ¿æ–°ç”¨æˆ¶é«”é©—
2. **ç’°å¢ƒè®Šæ•¸æ¨¡æ¿** - å½±éŸ¿è¨­å®šæµç¨‹
3. **å¥åº·æª¢æŸ¥è…³æœ¬** - å½±éŸ¿å•é¡Œè¨ºæ–·
4. **è‡ªå‹•åŒ–è…³æœ¬å¯¦ä½œ** - å½±éŸ¿æ•´é«”è‡ªå‹•åŒ–ç¨‹åº¦

### å»ºè­°å¯¦æ–½é †åº

1. **ç¬¬ä¸€å„ªå…ˆ**ï¼š`.env.example` + `scripts/init.js`
2. **ç¬¬äºŒå„ªå…ˆ**ï¼š`scripts/fetch-keys.js` + `scripts/setup-env.js`
3. **ç¬¬ä¸‰å„ªå…ˆ**ï¼šæ­¥é©Ÿ 61 + `scripts/health-check.js`
4. **ç¬¬å››å„ªå…ˆ**ï¼šå…¶ä»–è¼”åŠ©è…³æœ¬

---

æ‚¨è¦ºå¾—é€™å€‹æª¢æŸ¥å ±å‘Šå¦‚ä½•ï¼Ÿéœ€è¦æˆ‘é–‹å§‹å¯¦ä½œé€™äº›ç¼ºå¤±çš„é …ç›®å—ï¼Ÿ
