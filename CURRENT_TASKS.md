# 📋 目前待辦事項清單

## 🎯 任務總覽

根據您的需求，目前需要完成以下 5 項任務：

---

## ✅ 任務 1：添加「已解決」復原功能

### 問題描述
- 目前標記「已解決」後，沒有復原按鈕
- 使用者誤按後無法撤銷

### 解決方案
- 在標記已解決後，顯示「撤銷已解決」按鈕
- 點擊後恢復為未解決狀態
- 同時恢復 checklist 的完成狀態

### 實施位置
- `src/pages/Index.tsx` - 添加 `handleUndoCompleteStep` 函數
- `src/components/StepDetail.tsx` - 在已解決狀態下顯示撤銷按鈕

---

## ✅ 任務 2：補充 LINE Webhook 與 n8n 串接說明

### 問題描述
- 目前步驟 13 (LINE Webhook) 沒有明確說明如何與 n8n 整合
- 需要說明如何將 LINE Webhook 接收到的訊息轉發到 n8n

### 解決方案
- 在步驟 13 中添加 n8n 整合說明
- 說明如何設定 n8n Webhook 接收 LINE 訊息
- 提供完整的工作流程範例

### 實施位置
- `src/data/stepsData.ts` - 步驟 13 的 prompts 中添加 n8n 整合內容

---

## ✅ 任務 3：建立工作流程鏈系統

### 問題描述
- 目前沒有明確顯示每個步驟的後續步驟
- 使用者不知道完成當前步驟後應該做什麼
- 例如：表單收集 → n8n → 信箱系統 → 自動回信

### 解決方案
- 在 `Step` interface 中添加 `nextSteps` 和 `workflowChain` 欄位
- 在步驟詳情中顯示「工作流程鏈」區塊
- 顯示完整的流程：當前步驟 → 下一步 → 再下一步
- 提供「轉到此步驟」按鈕

### 實施位置
- `src/data/stepsData.ts` - 添加工作流程鏈資料
- `src/components/StepDetail.tsx` - 添加工作流程鏈 UI 組件

---

## ✅ 任務 4：建立標籤系統

### 問題描述
- 目前只有 keywords，但沒有視覺化的標籤系統
- 無法快速識別相關功能
- 無法根據標籤篩選步驟

### 解決方案
- 在步驟詳情中顯示「相關標籤」區塊
- 顯示與當前步驟相關的其他步驟
- 提供標籤篩選功能（未來擴展）

### 實施位置
- `src/components/StepDetail.tsx` - 添加標籤顯示組件
- 使用現有的 `keywords` 和 `category` 來建立關聯

---

## ✅ 任務 5：添加「下一步驟」UI 組件

### 問題描述
- 需要明確顯示每個步驟可以串接的後續步驟
- 需要顯示完整的工作流程圖

### 解決方案
- 在步驟詳情中添加「🔗 可串接功能」區塊
- 顯示工作流程圖（視覺化）
- 提供快速跳轉按鈕

### 實施位置
- `src/components/StepDetail.tsx` - 添加「下一步驟」組件
- 解析步驟中的「🔗 可串接功能」內容
- 建立視覺化的工作流程圖

---

## 📊 優先級排序

### 🔴 高優先級（立即實施）
1. **任務 1：已解決復原功能** - 使用者體驗問題
2. **任務 2：LINE Webhook 與 n8n 串接** - 功能完整性

### 🟡 中優先級（近期實施）
3. **任務 3：工作流程鏈系統** - 提升使用體驗
4. **任務 5：下一步驟 UI** - 功能導向

### 🟢 低優先級（未來擴展）
5. **任務 4：標籤系統** - 進階功能

---

## 🎯 實施順序建議

1. **第一階段**：任務 1 + 任務 2
   - 修復現有問題
   - 補充缺失功能

2. **第二階段**：任務 3 + 任務 5
   - 建立工作流程系統
   - 提升使用者體驗

3. **第三階段**：任務 4
   - 進階標籤功能
   - 未來擴展

---

## 📝 技術實施細節

### 資料結構擴充
```typescript
export interface Step {
  // ... 現有欄位
  nextSteps?: number[]; // 下一步驟 ID 列表
  workflowChain?: {
    id: string;
    name: string;
    steps: number[]; // 完整工作流程步驟 ID
    description: string;
  }[];
  tags?: string[]; // 標籤列表
}
```

### UI 組件新增
- `WorkflowChain.tsx` - 工作流程鏈顯示組件
- `NextSteps.tsx` - 下一步驟顯示組件
- `Tags.tsx` - 標籤顯示組件

---

## ✅ 完成標準

- [ ] 任務 1：已解決按鈕可以撤銷
- [ ] 任務 2：LINE Webhook 有明確的 n8n 整合說明
- [ ] 任務 3：每個步驟都有工作流程鏈顯示
- [ ] 任務 4：標籤系統可以顯示和篩選
- [ ] 任務 5：下一步驟 UI 清晰易懂
